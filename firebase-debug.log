[debug] [2020-01-05T01:52:04.674Z] ----------------------------------------------------------------------
[debug] [2020-01-05T01:52:04.675Z] Command:       /usr/local/Cellar/node/12.12.0/bin/node /usr/local/bin/firebase deploy --only functions:emailConfirmation
[debug] [2020-01-05T01:52:04.675Z] CLI Version:   7.3.1
[debug] [2020-01-05T01:52:04.675Z] Platform:      darwin
[debug] [2020-01-05T01:52:04.676Z] Node Version:  v12.12.0
[debug] [2020-01-05T01:52:04.677Z] Time:          Sat Jan 04 2020 17:52:04 GMT-0800 (Pacific Standard Time)
[debug] [2020-01-05T01:52:04.677Z] ----------------------------------------------------------------------
[debug] 
[debug] [2020-01-05T01:52:04.684Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2020-01-05T01:52:04.684Z] > authorizing via signed-in user
[debug] [2020-01-05T01:52:04.684Z] [iam] checking project nwhacks-2019 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2020-01-05T01:52:04.686Z] >>> HTTP REQUEST POST https://cloudresourcemanager.googleapis.com/v1/projects/nwhacks-2019:testIamPermissions  

[debug] [2020-01-05T01:52:04.786Z] <<< HTTP RESPONSE 200
[info] 
[info] === Deploying to 'nwhacks-2019'...
[info] 
[info] i  deploying functions
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] ✔  functions: Finished running predeploy script.
[debug] [2020-01-05T01:52:12.644Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "tslint --project tsconfig.json",
    "build": "tsc",
    "serve": "npm run build && firebase serve --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "8"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/firestore": "^2.6.1",
    "@slack/webhook": "^5.0.2",
    "@types/json2csv": "^4.5.0",
    "@types/nodemailer": "^6.2.2",
    "cors": "^2.8.5",
    "firebase-admin": "^8.2.0",
    "firebase-functions": "^3.1.0",
    "json2csv": "^4.5.2",
    "mailchimp-api-v3": "^1.13.0",
    "node-firestore-import-export": "^0.14.0",
    "nodemailer": "^6.3.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.1.6",
    "tslint": "^5.12.0",
    "typescript": "^3.2.2"
  },
  "private": true
}
[info] i  functions: ensuring necessary APIs are enabled...
[debug] [2020-01-05T01:52:12.645Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/nwhacks-2019/services/cloudfunctions.googleapis.com  
 
[debug] [2020-01-05T01:52:12.646Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/nwhacks-2019/services/runtimeconfig.googleapis.com  
 
[debug] [2020-01-05T01:52:13.770Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:52:13.780Z] <<< HTTP RESPONSE 200
[info] ✔  functions: all necessary APIs are enabled
[debug] [2020-01-05T01:52:13.780Z] >>> HTTP REQUEST GET https://firebase.googleapis.com/v1beta1/projects/nwhacks-2019/adminSdkConfig  
 
[debug] [2020-01-05T01:52:13.915Z] <<< HTTP RESPONSE 200
[info] i  functions: preparing functions directory for uploading...
[debug] [2020-01-05T01:52:13.918Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/nwhacks-2019/configs  
 
[debug] [2020-01-05T01:52:14.087Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:52:14.088Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/nwhacks-2019/configs/slack/variables  
 
[debug] [2020-01-05T01:52:14.089Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/nwhacks-2019/configs/cms/variables  
 
[debug] [2020-01-05T01:52:14.089Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/nwhacks-2019/configs/mailchimp/variables  
 
[debug] [2020-01-05T01:52:14.203Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:52:14.204Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/nwhacks-2019/configs/cms/variables/pass  
 
[debug] [2020-01-05T01:52:14.220Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:52:14.221Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/nwhacks-2019/configs/slack/variables/applicant  
 
[debug] [2020-01-05T01:52:14.338Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:52:14.490Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:52:14.491Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/nwhacks-2019/configs/mailchimp/variables/key  
 
[debug] [2020-01-05T01:52:14.564Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:52:14.626Z] <<< HTTP RESPONSE 200
[info] i  functions: packaged functions (1.35 MB) for uploading
[debug] [2020-01-05T01:52:15.216Z] >>> HTTP REQUEST POST https://cloudfunctions.googleapis.com/v1/projects/nwhacks-2019/locations/us-central1/functions:generateUploadUrl  
 
[debug] [2020-01-05T01:52:16.236Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:52:16.237Z] >>> HTTP REQUEST PUT https://storage.googleapis.com/gcf-upload-us-central1-5553b38b-931a-4b03-b42a-ed0c56d33531/a8f8219c-bb90-40a3-a753-819b1132fd4b.zip?GoogleAccessId=service-98283589440@gcf-admin-robot.iam.gserviceaccount.com&Expires=1578190927&Signature=dc8paTymiVvhfe4iI3L2P9bp3LZAVdlMYAmoAHalc8rQieHbMQeIveD7YAP%2Bh3qWYHan4GKHrtFNdc2jsfp4pXx5hx85rduTZSEW3QRg8ycaCIIvp3ZjvSpUwfldHVt%2FOjo2212YfLVvBaM8Vm%2FE3rXmaG%2BQ9wh8bnoEoAJ2f4MC0c02OViX6G5Sl6Z0gEvXV6QlalRdWgcyl7MaeOLrD3%2Bbb5gd3DN2enP4xwoBY2rYxEbPFqRvCP%2BozMBvQwFFCt6La8yL5DHlRrrBDu16MqYIwjC4qRvj0hxGlrM90ZHuQmVe2LhlxypgrG2YG7aPnFxxkKnc9N2xzZzZvpJohQ%3D%3D  
 <request body omitted>
[debug] [2020-01-05T01:52:17.058Z] <<< HTTP RESPONSE 200
[info] ✔  functions: functions folder uploaded successfully
[debug] [2020-01-05T01:52:17.060Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/projects/nwhacks-2019/locations/-/functions  
 
[debug] [2020-01-05T01:52:17.891Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:52:17.893Z] > [functions] filtering triggers to: [
  "projects/nwhacks-2019/locations/us-central1/functions/emailConfirmation"
]
[info] i  functions: current functions in project: ApplicantToCSV(us-central1), backFillIds(us-central1), backfillLongInfo(us-central1), backfillShortInfo(us-central1), checkValidID(us-central1), emailConfirmation(us-central1), example(us-central1), exampleGetData(us-central1), exampleHelloWorld(us-central1), getAdminTokens(us-central1), getRSVPInfo(us-central1), importMentors(us-central1), newAdmin(us-central1), submitApplicationHacker(us-central1), submitApplicationVolunteer(us-central1), submitRSVP(us-central1), subscribeToMailingList(us-central1), tagApplicants(us-central1), updateAdmins(us-central1), updateAdminsOnAdd(us-central1)
[info] i  functions: uploading functions in project: emailConfirmation(us-central1)
[info] i  functions: updating Node.js 8 function emailConfirmation(us-central1)...
[debug] [2020-01-05T01:52:17.896Z] Trigger is:  {"eventTrigger":{"resource":"projects/nwhacks-2019/databases/(default)/documents/hacker_info_2020/{hackerID}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"}}
[debug] [2020-01-05T01:52:17.897Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/nwhacks-2019/services/cloudscheduler.googleapis.com  
 
[debug] [2020-01-05T01:52:18.695Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:52:18.697Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/nwhacks-2019/locations/us-central1/functions/emailConfirmation {"updateMask":"sourceUploadUrl,name,labels,runtime,eventTrigger.resource,eventTrigger.eventType,eventTrigger.service"} 

[debug] [2020-01-05T01:52:19.375Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:52:19.376Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bndoYWNrcy0yMDE5L3VzLWNlbnRyYWwxL2VtYWlsQ29uZmlybWF0aW9uL1A1aFVYUnoxNDVJ  
 
[debug] [2020-01-05T01:52:19.687Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:52:21.689Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bndoYWNrcy0yMDE5L3VzLWNlbnRyYWwxL2VtYWlsQ29uZmlybWF0aW9uL1A1aFVYUnoxNDVJ  
 
[debug] [2020-01-05T01:52:22.790Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:52:24.794Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bndoYWNrcy0yMDE5L3VzLWNlbnRyYWwxL2VtYWlsQ29uZmlybWF0aW9uL1A1aFVYUnoxNDVJ  
 
[debug] [2020-01-05T01:52:25.248Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:52:27.253Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bndoYWNrcy0yMDE5L3VzLWNlbnRyYWwxL2VtYWlsQ29uZmlybWF0aW9uL1A1aFVYUnoxNDVJ  
 
[debug] [2020-01-05T01:52:27.709Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:52:29.713Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bndoYWNrcy0yMDE5L3VzLWNlbnRyYWwxL2VtYWlsQ29uZmlybWF0aW9uL1A1aFVYUnoxNDVJ  
 
[debug] [2020-01-05T01:52:30.163Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:52:32.164Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bndoYWNrcy0yMDE5L3VzLWNlbnRyYWwxL2VtYWlsQ29uZmlybWF0aW9uL1A1aFVYUnoxNDVJ  
 
[debug] [2020-01-05T01:52:32.621Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:52:34.624Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bndoYWNrcy0yMDE5L3VzLWNlbnRyYWwxL2VtYWlsQ29uZmlybWF0aW9uL1A1aFVYUnoxNDVJ  
 
[debug] [2020-01-05T01:52:34.939Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:52:36.940Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bndoYWNrcy0yMDE5L3VzLWNlbnRyYWwxL2VtYWlsQ29uZmlybWF0aW9uL1A1aFVYUnoxNDVJ  
 
[debug] [2020-01-05T01:52:37.276Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:52:39.281Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bndoYWNrcy0yMDE5L3VzLWNlbnRyYWwxL2VtYWlsQ29uZmlybWF0aW9uL1A1aFVYUnoxNDVJ  
 
[debug] [2020-01-05T01:52:40.000Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:52:42.006Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bndoYWNrcy0yMDE5L3VzLWNlbnRyYWwxL2VtYWlsQ29uZmlybWF0aW9uL1A1aFVYUnoxNDVJ  
 
[debug] [2020-01-05T01:52:42.142Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:52:44.149Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bndoYWNrcy0yMDE5L3VzLWNlbnRyYWwxL2VtYWlsQ29uZmlybWF0aW9uL1A1aFVYUnoxNDVJ  
 
[debug] [2020-01-05T01:52:44.454Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:52:46.455Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bndoYWNrcy0yMDE5L3VzLWNlbnRyYWwxL2VtYWlsQ29uZmlybWF0aW9uL1A1aFVYUnoxNDVJ  
 
[debug] [2020-01-05T01:52:47.367Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:52:49.367Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bndoYWNrcy0yMDE5L3VzLWNlbnRyYWwxL2VtYWlsQ29uZmlybWF0aW9uL1A1aFVYUnoxNDVJ  
 
[debug] [2020-01-05T01:52:49.824Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:52:51.826Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bndoYWNrcy0yMDE5L3VzLWNlbnRyYWwxL2VtYWlsQ29uZmlybWF0aW9uL1A1aFVYUnoxNDVJ  
 
[debug] [2020-01-05T01:52:52.170Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:52:54.172Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bndoYWNrcy0yMDE5L3VzLWNlbnRyYWwxL2VtYWlsQ29uZmlybWF0aW9uL1A1aFVYUnoxNDVJ  
 
[debug] [2020-01-05T01:52:54.480Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:52:56.486Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bndoYWNrcy0yMDE5L3VzLWNlbnRyYWwxL2VtYWlsQ29uZmlybWF0aW9uL1A1aFVYUnoxNDVJ  
 
[debug] [2020-01-05T01:52:56.610Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:52:58.616Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bndoYWNrcy0yMDE5L3VzLWNlbnRyYWwxL2VtYWlsQ29uZmlybWF0aW9uL1A1aFVYUnoxNDVJ  
 
[debug] [2020-01-05T01:52:59.094Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:53:01.098Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bndoYWNrcy0yMDE5L3VzLWNlbnRyYWwxL2VtYWlsQ29uZmlybWF0aW9uL1A1aFVYUnoxNDVJ  
 
[debug] [2020-01-05T01:53:01.222Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:53:03.227Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bndoYWNrcy0yMDE5L3VzLWNlbnRyYWwxL2VtYWlsQ29uZmlybWF0aW9uL1A1aFVYUnoxNDVJ  
 
[debug] [2020-01-05T01:53:03.751Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:53:05.757Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bndoYWNrcy0yMDE5L3VzLWNlbnRyYWwxL2VtYWlsQ29uZmlybWF0aW9uL1A1aFVYUnoxNDVJ  
 
[debug] [2020-01-05T01:53:06.211Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:53:08.212Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bndoYWNrcy0yMDE5L3VzLWNlbnRyYWwxL2VtYWlsQ29uZmlybWF0aW9uL1A1aFVYUnoxNDVJ  
 
[debug] [2020-01-05T01:53:08.334Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:53:10.337Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bndoYWNrcy0yMDE5L3VzLWNlbnRyYWwxL2VtYWlsQ29uZmlybWF0aW9uL1A1aFVYUnoxNDVJ  
 
[debug] [2020-01-05T01:53:10.667Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:53:12.671Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bndoYWNrcy0yMDE5L3VzLWNlbnRyYWwxL2VtYWlsQ29uZmlybWF0aW9uL1A1aFVYUnoxNDVJ  
 
[debug] [2020-01-05T01:53:13.088Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:53:15.092Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bndoYWNrcy0yMDE5L3VzLWNlbnRyYWwxL2VtYWlsQ29uZmlybWF0aW9uL1A1aFVYUnoxNDVJ  
 
[debug] [2020-01-05T01:53:16.043Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:53:18.047Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bndoYWNrcy0yMDE5L3VzLWNlbnRyYWwxL2VtYWlsQ29uZmlybWF0aW9uL1A1aFVYUnoxNDVJ  
 
[debug] [2020-01-05T01:53:18.166Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:53:20.168Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bndoYWNrcy0yMDE5L3VzLWNlbnRyYWwxL2VtYWlsQ29uZmlybWF0aW9uL1A1aFVYUnoxNDVJ  
 
[debug] [2020-01-05T01:53:20.469Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:53:22.472Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bndoYWNrcy0yMDE5L3VzLWNlbnRyYWwxL2VtYWlsQ29uZmlybWF0aW9uL1A1aFVYUnoxNDVJ  
 
[debug] [2020-01-05T01:53:23.101Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:53:25.103Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bndoYWNrcy0yMDE5L3VzLWNlbnRyYWwxL2VtYWlsQ29uZmlybWF0aW9uL1A1aFVYUnoxNDVJ  
 
[debug] [2020-01-05T01:53:25.871Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:53:27.872Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bndoYWNrcy0yMDE5L3VzLWNlbnRyYWwxL2VtYWlsQ29uZmlybWF0aW9uL1A1aFVYUnoxNDVJ  
 
[debug] [2020-01-05T01:53:28.329Z] <<< HTTP RESPONSE 200
[debug] [2020-01-05T01:53:30.332Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/bndoYWNrcy0yMDE5L3VzLWNlbnRyYWwxL2VtYWlsQ29uZmlybWF0aW9uL1A1aFVYUnoxNDVJ  
 
